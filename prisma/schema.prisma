generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Language {
  key         String  @id
  name        String?
  description String?
  alpha2      String?
  Word        Word[]
}

model Session {
  id        String   @id
  user      String
  expiresAt DateTime
  User      User     @relation(fields: [user], references: [email], onDelete: Cascade)
}

model Topic {
  key  String @id
  name String
  Word Word[]
}

model User {
  firstname String?
  lastname  String?
  email     String    @id
  password  String?
  role      String    @default("user")
  status    String    @default("enabled")
  Session   Session[]
}

model Word {
  lemma    String
  instance Int      @default(0)
  language String
  wordtype String
  topic    String?
  english  String?
  comment  String?
  level    String?
  Topic    Topic?   @relation(fields: [topic], references: [key], onDelete: Cascade)
  Language Language @relation(fields: [language], references: [key], onDelete: Cascade)
  WordType WordType @relation(fields: [wordtype], references: [key], onDelete: Cascade)

  @@id([language, lemma, instance])
}

model WordType {
  key     String    @id
  name    String
  Swadesh Swadesh[]
  Word    Word[]
}

model Swadesh {
  key      Int      @id @default(autoincrement())
  wordtype String
  term     String
  eng      String
  deu      String?
  fra      String?
  spa      String?
  swa      String?
  mlg      String?
  WordType WordType @relation(fields: [wordtype], references: [key], onDelete: Cascade)
}
